[
  {
    "objectID": "Homework3.html",
    "href": "Homework3.html",
    "title": "Homework 3",
    "section": "",
    "text": "We characterize the post-treatment (or placebo) blood pressure measurement as optimal (≤ 120), borderline (120 &lt; bp ≤ 130), and high (&gt; 130). To do so, we create a new column in each data frame from the last homework called “status.” Then we use a for loop and conditional logic to create the status column’s values in each data frame within the list.\n\nload(\"hw2_list.rda\")\n\n for (i in 1:length(bp_list)){\n   for (j in 1:length(bp_list[[i]]$post_bp)){\n     bp_list[[i]]$status[[j]] &lt;- character(length(bp_list[[i]]))\n     if (bp_list[[i]]$post_bp[[j]] &lt;= 120){\n       bp_list[[i]]$status[[j]] = \"optimal\"\n       }\n     else if ((bp_list[[i]]$post_bp[[j]] &gt; 120) & (bp_list[[i]]$post_bp[[j]] &lt;= 130)){\n       bp_list[[i]]$status[[j]] = \"borderline\"\n       }\n     else {\n       bp_list[[i]]$status[[j]] = \"high\"\n     }\n   }\n }\n\nbp_list\n\n$treatment\n              patient pre_bp post_bp diff_bp normal     status\nSubject_1   Subject_1    120     127      -7  FALSE borderline\nSubject_2   Subject_2    151     145       6  FALSE       high\nSubject_3   Subject_3    125     135     -10  FALSE       high\nSubject_4   Subject_4    126     122       4  FALSE borderline\nSubject_5   Subject_5    115     115       0   TRUE    optimal\nSubject_6   Subject_6    132     122      10  FALSE borderline\nSubject_7   Subject_7    132     123       9  FALSE borderline\nSubject_8   Subject_8    129     126       3  FALSE borderline\nSubject_9   Subject_9    134     126       8  FALSE borderline\nSubject_10 Subject_10    139     129      10  FALSE borderline\nSubject_11 Subject_11    127     132      -5  FALSE       high\nSubject_12 Subject_12    122     146     -24  FALSE       high\nSubject_13 Subject_13    127     120       7  FALSE    optimal\nSubject_14 Subject_14    135     114      21   TRUE    optimal\nSubject_15 Subject_15    133     121      12  FALSE borderline\nSubject_16 Subject_16    128     120       8  FALSE    optimal\nSubject_17 Subject_17    147     128      19  FALSE borderline\nSubject_18 Subject_18    138     120      18  FALSE    optimal\nSubject_19 Subject_19    140     133       7  FALSE       high\nSubject_20 Subject_20    132     115      17   TRUE    optimal\n\n$placebo\n      patient pre_bp post_bp diff_bp normal     status\n1   Subject_1    138     105      33   TRUE    optimal\n2   Subject_2    135     136      -1  FALSE       high\n3   Subject_3    147     123      24  FALSE borderline\n4   Subject_4    117     130     -13  FALSE borderline\n5   Subject_5    152     134      18  FALSE       high\n6   Subject_6    134     143      -9  FALSE       high\n7   Subject_7    114     135     -21  FALSE       high\n8   Subject_8    121     139     -18  FALSE       high\n9   Subject_9    131     120      11  FALSE    optimal\n10 Subject_10    130     124       6  FALSE borderline"
  },
  {
    "objectID": "Homework3.html#task-1-control-flow-practice",
    "href": "Homework3.html#task-1-control-flow-practice",
    "title": "Homework 3",
    "section": "",
    "text": "We characterize the post-treatment (or placebo) blood pressure measurement as optimal (≤ 120), borderline (120 &lt; bp ≤ 130), and high (&gt; 130). To do so, we create a new column in each data frame from the last homework called “status.” Then we use a for loop and conditional logic to create the status column’s values in each data frame within the list.\n\nload(\"hw2_list.rda\")\n\n for (i in 1:length(bp_list)){\n   for (j in 1:length(bp_list[[i]]$post_bp)){\n     bp_list[[i]]$status[[j]] &lt;- character(length(bp_list[[i]]))\n     if (bp_list[[i]]$post_bp[[j]] &lt;= 120){\n       bp_list[[i]]$status[[j]] = \"optimal\"\n       }\n     else if ((bp_list[[i]]$post_bp[[j]] &gt; 120) & (bp_list[[i]]$post_bp[[j]] &lt;= 130)){\n       bp_list[[i]]$status[[j]] = \"borderline\"\n       }\n     else {\n       bp_list[[i]]$status[[j]] = \"high\"\n     }\n   }\n }\n\nbp_list\n\n$treatment\n              patient pre_bp post_bp diff_bp normal     status\nSubject_1   Subject_1    120     127      -7  FALSE borderline\nSubject_2   Subject_2    151     145       6  FALSE       high\nSubject_3   Subject_3    125     135     -10  FALSE       high\nSubject_4   Subject_4    126     122       4  FALSE borderline\nSubject_5   Subject_5    115     115       0   TRUE    optimal\nSubject_6   Subject_6    132     122      10  FALSE borderline\nSubject_7   Subject_7    132     123       9  FALSE borderline\nSubject_8   Subject_8    129     126       3  FALSE borderline\nSubject_9   Subject_9    134     126       8  FALSE borderline\nSubject_10 Subject_10    139     129      10  FALSE borderline\nSubject_11 Subject_11    127     132      -5  FALSE       high\nSubject_12 Subject_12    122     146     -24  FALSE       high\nSubject_13 Subject_13    127     120       7  FALSE    optimal\nSubject_14 Subject_14    135     114      21   TRUE    optimal\nSubject_15 Subject_15    133     121      12  FALSE borderline\nSubject_16 Subject_16    128     120       8  FALSE    optimal\nSubject_17 Subject_17    147     128      19  FALSE borderline\nSubject_18 Subject_18    138     120      18  FALSE    optimal\nSubject_19 Subject_19    140     133       7  FALSE       high\nSubject_20 Subject_20    132     115      17   TRUE    optimal\n\n$placebo\n      patient pre_bp post_bp diff_bp normal     status\n1   Subject_1    138     105      33   TRUE    optimal\n2   Subject_2    135     136      -1  FALSE       high\n3   Subject_3    147     123      24  FALSE borderline\n4   Subject_4    117     130     -13  FALSE borderline\n5   Subject_5    152     134      18  FALSE       high\n6   Subject_6    134     143      -9  FALSE       high\n7   Subject_7    114     135     -21  FALSE       high\n8   Subject_8    121     139     -18  FALSE       high\n9   Subject_9    131     120      11  FALSE    optimal\n10 Subject_10    130     124       6  FALSE borderline"
  },
  {
    "objectID": "Homework3.html#task-2-function-writing",
    "href": "Homework3.html#task-2-function-writing",
    "title": "Homework 3",
    "section": "Task 2: Function Writing",
    "text": "Task 2: Function Writing\nWe write a function that is able to take in a list with our treatment and placebo data frames in it, as well as a statistic, which we set as “mean” for a default.\n\n# Write a function that takes in a list with two data frames and a statistic as an argument.  Keep the list generic.\n\nhmwk_fn &lt;- function(list, stat=\"mean\") {\n  x &lt;- c(1,5,6)   # remove character columns\n  combo &lt;- c()    # create empty vector for combining results \n  for (i in 1:length(list)){\n    z &lt;- list[[i]][,c(2,3,4)]\n    comp &lt;- c()  # create empty vector for applying/computing statistic\n    lbl &lt;- c()   # create empty vector for labeling computations\n    for (j in 1:ncol(z)){\n      my_fun &lt;- get(stat)\n      lbl &lt;- c(lbl,paste(names(bp_list)[i], paste(stat, colnames(z)[j], sep = \"_\"), sep = \"_\"))\n      comp &lt;- c(comp,my_fun(z[,j]))\n      names(comp) &lt;- lbl\n    }\n    combo &lt;- c(combo,comp)\n  }\n  return(combo)\n}\n\n# Apply the function to the bp_list of data frames. First, use it without specifying the statistic. Then, specify the statistic as \"var\", \"sd\", \"min\", and \"max\".\nhmwk_fn(bp_list)               # calculates mean\n\n treatment_mean_pre_bp treatment_mean_post_bp treatment_mean_diff_bp \n                131.60                 125.95                   5.65 \n   placebo_mean_pre_bp   placebo_mean_post_bp   placebo_mean_diff_bp \n                131.90                 128.90                   3.00 \n\nhmwk_fn(bp_list, stat=\"var\")   # calculates variance\n\n treatment_var_pre_bp treatment_var_post_bp treatment_var_diff_bp \n             75.72632              78.99737             117.81842 \n   placebo_var_pre_bp   placebo_var_post_bp   placebo_var_diff_bp \n            149.87778             124.98889             341.33333 \n\nhmwk_fn(bp_list, stat=\"sd\")    # calculates standard deviation\n\n treatment_sd_pre_bp treatment_sd_post_bp treatment_sd_diff_bp \n            8.702087             8.888046            10.854419 \n   placebo_sd_pre_bp   placebo_sd_post_bp   placebo_sd_diff_bp \n           12.242458            11.179843            18.475209 \n\nhmwk_fn(bp_list, stat=\"min\")   # calculates minimum\n\n treatment_min_pre_bp treatment_min_post_bp treatment_min_diff_bp \n                  115                   114                   -24 \n   placebo_min_pre_bp   placebo_min_post_bp   placebo_min_diff_bp \n                  114                   105                   -21 \n\nhmwk_fn(bp_list, stat=\"max\")   # calculates maximum\n\n treatment_max_pre_bp treatment_max_post_bp treatment_max_diff_bp \n                  151                   146                    21 \n   placebo_max_pre_bp   placebo_max_post_bp   placebo_max_diff_bp \n                  152                   143                    33 \n\n\nAs a final remark, there almost certainly a more general way to get at the columns that are numeric versus character, since we cannot calculate summary statistics on the character columns. This would involve using conditional logic with the type of column in a data frame. I did not do this, although it would allow more generality with this function."
  }
]